<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reports & Analytics - Admin Dashboard</title>
    <link rel="stylesheet" href="../styles/admin.css">
    <link rel="stylesheet" href="../styles/admin-pages.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="admin-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <i class="fas fa-car"></i>
                    <span>Valuation System</span>
                </div>
                <button class="sidebar-toggle" onclick="toggleSidebar()">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            
            <nav class="sidebar-nav">
                <ul>
                    <li class="nav-item">
                        <a href="dashboard.html">
                            <i class="fas fa-tachometer-alt"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="requests.html">
                            <i class="fas fa-clipboard-list"></i>
                            <span>Requests</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="clients.html">
                            <i class="fas fa-users"></i>
                            <span>Clients</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="agencies.html">
                            <i class="fas fa-building"></i>
                            <span>Agencies</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="employees.html">
                            <i class="fas fa-user-tie"></i>
                            <span>Employees</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="quality-control.html">
                            <i class="fas fa-shield-alt"></i>
                            <span>Quality Control</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="pricing.html">
                            <i class="fas fa-rupee-sign"></i>
                            <span>Pricing</span>
                        </a>
                    </li>
                    <li class="nav-item active">
                        <a href="reports.html">
                            <i class="fas fa-chart-bar"></i>
                            <span>Reports</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="master-data.html">
                            <i class="fas fa-database"></i>
                            <span>Master Data</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="gate-passes.html">
                            <i class="fas fa-id-card"></i>
                            <span>Gate Passes</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="invoices.html">
                            <i class="fas fa-file-invoice"></i>
                            <span>Invoices</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="profile.html">
                            <i class="fas fa-user"></i>
                            <span>Profile</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="settings.html">
                            <i class="fas fa-cog"></i>
                            <span>Settings</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="page-header">
                <div class="header-content">
                    <div class="header-left">
                        <h1>Reports & Analytics</h1>
                        <p>Comprehensive insights and data analysis</p>
                    </div>
                    <div class="header-right">
                        <div class="search-container">
                            <i class="fas fa-search"></i>
                            <input type="text" placeholder="Search reports, metrics..." class="search-input">
                        </div>
                        <button class="btn btn-primary" onclick="generateReport()">
                            <i class="fas fa-file-alt"></i>
                            Generate Report
                        </button>
                        <button class="btn btn-secondary" onclick="exportData()">
                            <i class="fas fa-download"></i>
                            Export Data
                        </button>
                    </div>
                </div>
            </header>

            <!-- Page Content -->
            <div class="page-content">
                <!-- Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-clipboard-list"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Total Requests</h3>
                            <p class="stat-value">1,234</p>
                            <span class="stat-change positive">
                                <i class="fas fa-arrow-up"></i>
                                +15.2%
                            </span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-rupee-sign"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Revenue</h3>
                            <p class="stat-value">₹2.4M</p>
                            <span class="stat-change positive">
                                <i class="fas fa-arrow-up"></i>
                                +12.3%
                            </span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Success Rate</h3>
                            <p class="stat-value">98.2%</p>
                            <span class="stat-change positive">
                                <i class="fas fa-arrow-up"></i>
                                +0.5%
                            </span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Avg Processing Time</h3>
                            <p class="stat-value">2.3h</p>
                            <span class="stat-change negative">
                                <i class="fas fa-arrow-up"></i>
                                +0.2h
                            </span>
                        </div>
                    </div>
                </div>

                <!-- Filters Section -->
                <div class="filters-section">
                    <div class="filters-header">
                        <h3>Filters</h3>
                        <button class="btn btn-outline btn-sm" onclick="clearFilters()">
                            <i class="fas fa-times"></i>
                            Clear All
                        </button>
                    </div>
                    
                    <div class="filters-grid">
                        <div class="filter-group">
                            <label class="filter-label">Date Range</label>
                            <div class="date-range">
                                <input type="date" class="filter-date" id="startDate" value="2024-01-01">
                                <span>to</span>
                                <input type="date" class="filter-date" id="endDate" value="2024-01-31">
                            </div>
                        </div>
                        
                        <div class="filter-group">
                            <label class="filter-label">Report Type</label>
                            <select class="filter-select">
                                <option value="">All Reports</option>
                                <option value="overview">Overview</option>
                                <option value="financial">Financial</option>
                                <option value="operational">Operational</option>
                                <option value="quality">Quality</option>
                                <option value="performance">Performance</option>
                            </select>
                        </div>
                        
                        <div class="filter-group">
                            <label class="filter-label">Agency</label>
                            <select class="filter-select">
                                <option value="">All Agencies</option>
                                <option value="agency1">ABC Agency</option>
                                <option value="agency2">XYZ Agency</option>
                                <option value="agency3">DEF Agency</option>
                            </select>
                        </div>
                        
                        <div class="filter-group">
                            <label class="filter-label">Client Type</label>
                            <select class="filter-select">
                                <option value="">All Clients</option>
                                <option value="bank">Bank</option>
                                <option value="finance">Finance Company</option>
                                <option value="dealer">Dealer</option>
                                <option value="individual">Individual</option>
                            </select>
                        </div>
                        
                        <div class="filter-group">
                            <label class="filter-label">&nbsp;</label>
                            <button class="btn btn-primary" onclick="applyFilters()">
                                <i class="fas fa-filter"></i>
                                Apply Filters
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Report Categories -->
                <div class="report-categories">
                    <div class="categories-header">
                        <h3>Report Categories</h3>
                        <p>Select a category to view detailed analytics</p>
                    </div>
                    
                    <div class="category-cards">
                        <div class="category-card active" onclick="showReportCategory('overview')">
                            <div class="category-icon">
                                <i class="fas fa-chart-pie"></i>
                            </div>
                            <div class="category-content">
                                <h4>Overview</h4>
                                <p>General insights and key performance indicators</p>
                                <div class="category-stats">
                                    <span class="stat-item">
                                        <i class="fas fa-chart-line"></i>
                                        KPI Dashboard
                                    </span>
                                    <span class="stat-item">
                                        <i class="fas fa-list"></i>
                                        4 metrics
                                    </span>
                                </div>
                            </div>
                            <div class="category-indicator">
                                <i class="fas fa-check"></i>
                            </div>
                        </div>
                        
                        <div class="category-card" onclick="showReportCategory('financial')">
                            <div class="category-icon financial">
                                <i class="fas fa-rupee-sign"></i>
                            </div>
                            <div class="category-content">
                                <h4>Financial</h4>
                                <p>Revenue analysis and financial performance metrics</p>
                                <div class="category-stats">
                                    <span class="stat-item">
                                        <i class="fas fa-chart-line"></i>
                                        Revenue Trends
                                    </span>
                                    <span class="stat-item">
                                        <i class="fas fa-list"></i>
                                        3 charts
                                    </span>
                                </div>
                            </div>
                            <div class="category-indicator">
                                <i class="fas fa-check"></i>
                            </div>
                        </div>
                        
                        <div class="category-card" onclick="showReportCategory('operational')">
                            <div class="category-icon operational">
                                <i class="fas fa-cogs"></i>
                            </div>
                            <div class="category-content">
                                <h4>Operational</h4>
                                <p>Operational efficiency and process performance</p>
                                <div class="category-stats">
                                    <span class="stat-item">
                                        <i class="fas fa-chart-line"></i>
                                        Process Metrics
                                    </span>
                                    <span class="stat-item">
                                        <i class="fas fa-list"></i>
                                        2 charts
                                    </span>
                                </div>
                            </div>
                            <div class="category-indicator">
                                <i class="fas fa-check"></i>
                            </div>
                        </div>
                        
                        <div class="category-card" onclick="showReportCategory('quality')">
                            <div class="category-icon quality">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <div class="category-content">
                                <h4>Quality</h4>
                                <p>Quality control metrics and compliance reports</p>
                                <div class="category-stats">
                                    <span class="stat-item">
                                        <i class="fas fa-chart-line"></i>
                                        Quality Score
                                    </span>
                                    <span class="stat-item">
                                        <i class="fas fa-list"></i>
                                        2 charts
                                    </span>
                                </div>
                            </div>
                            <div class="category-indicator">
                                <i class="fas fa-check"></i>
                            </div>
                        </div>
                        
                        <div class="category-card" onclick="showReportCategory('performance')">
                            <div class="category-icon performance">
                                <i class="fas fa-tachometer-alt"></i>
                            </div>
                            <div class="category-content">
                                <h4>Performance</h4>
                                <p>System performance and user activity metrics</p>
                                <div class="category-stats">
                                    <span class="stat-item">
                                        <i class="fas fa-chart-line"></i>
                                        System Metrics
                                    </span>
                                    <span class="stat-item">
                                        <i class="fas fa-list"></i>
                                        2 charts
                                    </span>
                                </div>
                            </div>
                            <div class="category-indicator">
                                <i class="fas fa-check"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Report Sections -->
                <div class="report-sections">
                    <!-- Overview Section -->
                    <div class="report-section active" id="overview-section">
                        <div class="section-header">
                            <h3>Overview Dashboard</h3>
                            <p>Key performance indicators and trends</p>
                        </div>
                        
                        <!-- Charts Row -->
                        <div class="charts-row">
                            <div class="chart-container">
                                <div class="chart-header">
                                    <h3>Request Trends</h3>
                                    <div class="chart-controls">
                                        <select class="chart-period" onchange="updateRequestTrends(this.value)">
                                            <option value="7">7 Days</option>
                                            <option value="30" selected>30 Days</option>
                                            <option value="90">90 Days</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="chart-wrapper">
                                    <canvas id="requestTrendsChart"></canvas>
                                </div>
                            </div>
                            
                            <div class="chart-container">
                                <div class="chart-header">
                                    <h3>Revenue by Vehicle Type</h3>
                                </div>
                                <div class="chart-wrapper">
                                    <canvas id="revenueChart"></canvas>
                                </div>
                            </div>
                        </div>

                        <!-- Performance Metrics -->
                        <div class="performance-metrics">
                            <div class="metrics-card">
                                <h3>Top Performers</h3>
                                <div class="metric-row">
                                    <div class="metric-item">
                                        <span class="metric-label">Top Agency</span>
                                        <span class="metric-value">ABC Agency (4.8★)</span>
                                    </div>
                                    <div class="metric-item">
                                        <span class="metric-label">Most Active Client</span>
                                        <span class="metric-value">XYZ Finance (45 requests)</span>
                                    </div>
                                    <div class="metric-item">
                                        <span class="metric-label">Best Field Officer</span>
                                        <span class="metric-value">Rajesh Kumar (98% success)</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Financial Section -->
                    <div class="report-section" id="financial-section">
                        <div class="section-header">
                            <h3>Financial Analytics</h3>
                            <p>Revenue analysis and financial performance</p>
                        </div>
                        
                        <div class="financial-overview">
                            <div class="financial-card">
                                <h3>Revenue Analysis</h3>
                                <div class="financial-metrics">
                                    <div class="financial-metric">
                                        <span class="label">Total Revenue</span>
                                        <span class="value">₹2,456,789</span>
                                    </div>
                                    <div class="financial-metric">
                                        <span class="label">Average Order Value</span>
                                        <span class="value">₹1,250</span>
                                    </div>
                                    <div class="financial-metric">
                                        <span class="label">Profit Margin</span>
                                        <span class="value">35.2%</span>
                                    </div>
                                </div>
                                <div class="chart-wrapper">
                                    <canvas id="financialChart"></canvas>
                                </div>
                            </div>
                            
                            <div class="financial-card">
                                <h3>Revenue by Client Type</h3>
                                <div class="client-revenue">
                                    <div class="client-item">
                                        <span class="client-name">Banks</span>
                                        <span class="client-revenue">₹1,234,567</span>
                                        <div class="revenue-bar">
                                            <div class="revenue-fill" style="width: 50%"></div>
                                        </div>
                                    </div>
                                    <div class="client-item">
                                        <span class="client-name">Finance Companies</span>
                                        <span class="client-revenue">₹987,654</span>
                                        <div class="revenue-bar">
                                            <div class="revenue-fill" style="width: 40%"></div>
                                        </div>
                                    </div>
                                    <div class="client-item">
                                        <span class="client-name">Dealers</span>
                                        <span class="client-revenue">₹234,568</span>
                                        <div class="revenue-bar">
                                            <div class="revenue-fill" style="width: 10%"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Operational Section -->
                    <div class="report-section" id="operational-section">
                        <div class="section-header">
                            <h3>Operational Analytics</h3>
                            <p>Process efficiency and operational metrics</p>
                        </div>
                        
                        <div class="operational-metrics">
                            <div class="operational-card">
                                <h3>Request Processing</h3>
                                <div class="processing-stats">
                                    <div class="stat-item">
                                        <span class="stat-label">Pending</span>
                                        <span class="stat-value">45</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-label">In Progress</span>
                                        <span class="stat-value">23</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-label">Completed</span>
                                        <span class="stat-value">1,166</span>
                                    </div>
                                </div>
                                <div class="chart-wrapper">
                                    <canvas id="operationalChart"></canvas>
                                </div>
                            </div>
                            
                            <div class="operational-card">
                                <h3>Field Officer Performance</h3>
                                <div class="officer-performance">
                                    <div class="officer-item">
                                        <span class="officer-name">Rajesh Kumar</span>
                                        <span class="officer-stats">98% success • 45 requests</span>
                                        <div class="performance-bar">
                                            <div class="performance-fill" style="width: 98%"></div>
                                        </div>
                                    </div>
                                    <div class="officer-item">
                                        <span class="officer-name">Priya Sharma</span>
                                        <span class="officer-stats">95% success • 38 requests</span>
                                        <div class="performance-bar">
                                            <div class="performance-fill" style="width: 95%"></div>
                                        </div>
                                    </div>
                                    <div class="officer-item">
                                        <span class="officer-name">Amit Patel</span>
                                        <span class="officer-stats">92% success • 42 requests</span>
                                        <div class="performance-bar">
                                            <div class="performance-fill" style="width: 92%"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Quality Section -->
                    <div class="report-section" id="quality-section">
                        <div class="section-header">
                            <h3>Quality Analytics</h3>
                            <p>Quality control metrics and compliance reports</p>
                        </div>
                        
                        <div class="quality-metrics">
                            <div class="quality-card">
                                <h3>Quality Score Trends</h3>
                                <div class="quality-score">
                                    <div class="score-circle">
                                        <span class="score-value">98.2%</span>
                                        <span class="score-label">Overall Quality</span>
                                    </div>
                                </div>
                                <div class="chart-wrapper">
                                    <canvas id="qualityTrendsChart"></canvas>
                                </div>
                            </div>
                            
                            <div class="quality-card">
                                <h3>Quality Issues</h3>
                                <div class="quality-issues">
                                    <div class="issue-item">
                                        <span class="issue-type">Documentation</span>
                                        <span class="issue-count">12 issues</span>
                                        <div class="issue-bar">
                                            <div class="issue-fill" style="width: 60%"></div>
                                        </div>
                                    </div>
                                    <div class="issue-item">
                                        <span class="issue-type">Photography</span>
                                        <span class="issue-count">8 issues</span>
                                        <div class="issue-bar">
                                            <div class="issue-fill" style="width: 40%"></div>
                                        </div>
                                    </div>
                                    <div class="issue-item">
                                        <span class="issue-type">Assessment</span>
                                        <span class="issue-count">5 issues</span>
                                        <div class="issue-bar">
                                            <div class="issue-fill" style="width: 25%"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Performance Section -->
                    <div class="report-section" id="performance-section">
                        <div class="section-header">
                            <h3>Performance Analytics</h3>
                            <p>System performance and user activity metrics</p>
                        </div>
                        
                        <div class="performance-overview">
                            <div class="performance-card">
                                <h3>System Performance</h3>
                                <div class="system-metrics">
                                    <div class="system-metric">
                                        <span class="metric-label">Uptime</span>
                                        <span class="metric-value">99.9%</span>
                                    </div>
                                    <div class="system-metric">
                                        <span class="metric-label">Response Time</span>
                                        <span class="metric-value">1.2s</span>
                                    </div>
                                    <div class="system-metric">
                                        <span class="metric-label">Active Users</span>
                                        <span class="metric-value">156</span>
                                    </div>
                                </div>
                                <div class="chart-wrapper">
                                    <canvas id="performanceChart"></canvas>
                                </div>
                            </div>
                            
                            <div class="performance-card">
                                <h3>User Activity</h3>
                                <div class="user-activity">
                                    <div class="activity-item">
                                        <span class="activity-type">Admin Users</span>
                                        <span class="activity-count">12 active</span>
                                    </div>
                                    <div class="activity-item">
                                        <span class="activity-type">Agency Users</span>
                                        <span class="activity-count">89 active</span>
                                    </div>
                                    <div class="activity-item">
                                        <span class="activity-type">Field Officers</span>
                                        <span class="activity-count">55 active</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="../js/admin.js"></script>
    <script src="../js/reports.js"></script>
</body>
</html> 