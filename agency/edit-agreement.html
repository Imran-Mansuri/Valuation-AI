<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Agreement - Agency Panel</title>
    <link rel="stylesheet" href="../styles/admin.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="admin-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <i class="fas fa-building"></i>
                    <span>Agency Panel</span>
                </div>
                <button class="sidebar-toggle" onclick="toggleSidebar()">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            
            <nav class="sidebar-nav">
                <ul>
                    <li class="nav-item">
                        <a href="dashboard.html">
                            <i class="fas fa-tachometer-alt"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="requests.html">
                            <i class="fas fa-clipboard-list"></i>
                            <span>Requests</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="field-officers.html">
                            <i class="fas fa-users"></i>
                            <span>Field Officers</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="quality-control.html">
                            <i class="fas fa-shield-alt"></i>
                            <span>Quality Control</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="tracking.html">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Live Tracking</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="service-areas.html">
                            <i class="fas fa-map"></i>
                            <span>Service Areas</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="gate-passes.html">
                            <i class="fas fa-id-card"></i>
                            <span>Gate Passes</span>
                        </a>
                    </li>
                    <li class="nav-item active">
                        <a href="agreements.html">
                            <i class="fas fa-file-contract"></i>
                            <span>Agreements</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="reports.html">
                            <i class="fas fa-chart-bar"></i>
                            <span>Reports</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="settings.html">
                            <i class="fas fa-cog"></i>
                            <span>Settings</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="header">
                <div class="header-left">
                    <div class="breadcrumb">
                        <a href="agreements.html" class="breadcrumb-link">
                            <i class="fas fa-arrow-left"></i>
                            Back to Agreements
                        </a>
                    </div>
                    <h1>Edit Agreement</h1>
                    <p>Update agreement information and terms</p>
                </div>
                <div class="header-right">
                    <div class="notifications">
                        <i class="fas fa-bell"></i>
                        <span class="badge">5</span>
                    </div>
                    <div class="user-menu">
                        <img src="https://via.placeholder.com/40" alt="Agency" class="user-avatar">
                        <div class="user-info">
                            <span class="user-name">ABC Agency</span>
                            <span class="user-role">Valuation Agency</span>
                        </div>
                        <button class="logout-btn" onclick="logout()">
                            <i class="fas fa-sign-out-alt"></i>
                        </button>
                    </div>
                </div>
            </header>

            <!-- Page Content -->
            <div class="page-content">
                <div class="form-container">
                    <div class="form-header">
                        <h2>Edit Agreement - AGR-2024-001</h2>
                        <p>Update the agreement information and service terms</p>
                    </div>

                    <form class="modern-form" id="editAgreementForm">
                        <!-- Basic Information Section -->
                        <div class="form-section">
                            <div class="section-title">
                                <i class="fas fa-info-circle"></i>
                                <h3>Basic Information</h3>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Agreement ID</label>
                                    <input type="text" value="AGR-2024-001" readonly>
                                    <small>Agreement ID cannot be changed</small>
                                </div>
                                <div class="form-group">
                                    <label>Agreement Type</label>
                                    <select required>
                                        <option value="service-agreement" selected>Service Agreement</option>
                                        <option value="partnership-agreement">Partnership Agreement</option>
                                        <option value="nda">Non-Disclosure Agreement</option>
                                        <option value="contract">Contract Agreement</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Start Date</label>
                                    <input type="date" value="2024-01-01" required>
                                </div>
                                <div class="form-group">
                                    <label>End Date</label>
                                    <input type="date" value="2024-12-31" required>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Status</label>
                                    <select required>
                                        <option value="active" selected>Active</option>
                                        <option value="inactive">Inactive</option>
                                        <option value="expired">Expired</option>
                                        <option value="terminated">Terminated</option>
                                        <option value="pending">Pending</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Priority</label>
                                    <select required>
                                        <option value="normal">Normal</option>
                                        <option value="high" selected>High</option>
                                        <option value="urgent">Urgent</option>
                                        <option value="critical">Critical</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Client Information Section -->
                        <div class="form-section">
                            <div class="section-title">
                                <i class="fas fa-user"></i>
                                <h3>Client Information</h3>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Company Name</label>
                                    <input type="text" value="ABC Motors Ltd" required>
                                </div>
                                <div class="form-group">
                                    <label>Client Type</label>
                                    <select required>
                                        <option value="dealer" selected>Dealer</option>
                                        <option value="finance">Finance Company</option>
                                        <option value="bank">Bank</option>
                                        <option value="individual">Individual</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Contact Person</label>
                                    <input type="text" value="Rahul Sharma" required>
                                </div>
                                <div class="form-group">
                                    <label>Designation</label>
                                    <input type="text" value="General Manager" required>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Phone Number</label>
                                    <input type="tel" value="+91 98765 43210" required>
                                </div>
                                <div class="form-group">
                                    <label>Email Address</label>
                                    <input type="email" value="rahul@abcmotors.com" required>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>Company Address</label>
                                <textarea rows="3" required>123 Auto Street, Andheri West, Mumbai - 400058</textarea>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label>GST Number</label>
                                    <input type="text" value="27AABCA1234A1Z5">
                                </div>
                                <div class="form-group">
                                    <label>PAN Number</label>
                                    <input type="text" value="AABCA1234A">
                                </div>
                            </div>
                        </div>

                        <!-- Service Details Section -->
                        <div class="form-section">
                            <div class="section-title">
                                <i class="fas fa-cogs"></i>
                                <h3>Service Details</h3>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Service Type</label>
                                    <select required>
                                        <option value="vehicle-valuation" selected>Vehicle Valuation Services</option>
                                        <option value="quality-control">Quality Control Services</option>
                                        <option value="consulting">Consulting Services</option>
                                        <option value="training">Training Services</option>
                                        <option value="other">Other Services</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Service Frequency</label>
                                    <select required>
                                        <option value="as-required" selected>As Required</option>
                                        <option value="daily">Daily</option>
                                        <option value="weekly">Weekly</option>
                                        <option value="monthly">Monthly</option>
                                        <option value="quarterly">Quarterly</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Response Time</label>
                                    <select required>
                                        <option value="2-hours">2 Hours</option>
                                        <option value="4-hours">4 Hours</option>
                                        <option value="24-hours" selected>24 Hours</option>
                                        <option value="48-hours">48 Hours</option>
                                        <option value="72-hours">72 Hours</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Quality Standards</label>
                                    <input type="text" value="ISO 9001:2015" required>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>Service Areas</label>
                                <div class="service-areas-list">
                                    <div class="area-item">
                                        <input type="checkbox" id="mumbai-central" checked>
                                        <label for="mumbai-central">Mumbai Central</label>
                                    </div>
                                    <div class="area-item">
                                        <input type="checkbox" id="andheri-west" checked>
                                        <label for="andheri-west">Andheri West</label>
                                    </div>
                                    <div class="area-item">
                                        <input type="checkbox" id="pune-station">
                                        <label for="pune-station">Pune Station</label>
                                    </div>
                                    <div class="area-item">
                                        <input type="checkbox" id="nagpur-city">
                                        <label for="nagpur-city">Nagpur City</label>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>Service Description</label>
                                <textarea rows="3" required>Comprehensive vehicle valuation services including physical inspection, photo documentation, detailed reporting, and quality control for ABC Motors Ltd.</textarea>
                            </div>
                        </div>

                        <!-- Financial Terms Section -->
                        <div class="form-section">
                            <div class="section-title">
                                <i class="fas fa-dollar-sign"></i>
                                <h3>Financial Terms</h3>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Base Service Charge (₹)</label>
                                    <input type="number" value="1500" min="0" required>
                                </div>
                                <div class="form-group">
                                    <label>Additional Charges (₹)</label>
                                    <input type="number" value="200" min="0" required>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Payment Terms</label>
                                    <select required>
                                        <option value="net-15">Net 15 days</option>
                                        <option value="net-30" selected>Net 30 days</option>
                                        <option value="net-45">Net 45 days</option>
                                        <option value="net-60">Net 60 days</option>
                                        <option value="advance">Advance Payment</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Billing Cycle</label>
                                    <select required>
                                        <option value="weekly">Weekly</option>
                                        <option value="monthly" selected>Monthly</option>
                                        <option value="quarterly">Quarterly</option>
                                        <option value="as-per-service">As per Service</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Tax Rate (%)</label>
                                    <input type="number" value="18" min="0" max="100" step="0.01" required>
                                </div>
                                <div class="form-group">
                                    <label>Currency</label>
                                    <select required>
                                        <option value="INR" selected>Indian Rupees (INR)</option>
                                        <option value="USD">US Dollars (USD)</option>
                                        <option value="EUR">Euro (EUR)</option>
                                        <option value="GBP">British Pound (GBP)</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>Special Pricing</label>
                                <textarea rows="3" placeholder="Enter any special pricing arrangements or discounts">Bulk discount of 10% for more than 50 valuations per month. Priority service available at 25% premium.</textarea>
                            </div>
                        </div>

                        <!-- Terms & Conditions Section -->
                        <div class="form-section">
                            <div class="section-title">
                                <i class="fas fa-file-contract"></i>
                                <h3>Terms & Conditions</h3>
                            </div>
                            
                            <div class="form-group">
                                <label>Special Terms</label>
                                <textarea rows="4" placeholder="Enter any special terms or conditions">1. All services must be scheduled at least 24 hours in advance
2. Emergency services available at additional cost
3. Quality control review included in all valuations
4. Digital reports provided within 48 hours of inspection
5. Client feedback required within 7 days of service completion</textarea>
                            </div>
                            
                            <div class="form-group">
                                <label>Liability & Insurance</label>
                                <textarea rows="3" placeholder="Enter liability and insurance terms">Agency maintains professional liability insurance of ₹50 lakhs. Client responsible for providing safe access to vehicles and facilities.</textarea>
                            </div>
                            
                            <div class="form-group">
                                <label>Termination Terms</label>
                                <textarea rows="3" placeholder="Enter termination and cancellation terms">Either party may terminate with 30 days written notice. Outstanding payments must be settled within 15 days of termination.</textarea>
                            </div>
                        </div>

                        <!-- Document Upload Section -->
                        <div class="form-section">
                            <div class="section-title">
                                <i class="fas fa-file-upload"></i>
                                <h3>Agreement Documents</h3>
                            </div>
                            
                            <div class="upload-section">
                                <div class="upload-area">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                    <h3>Upload Agreement Documents</h3>
                                    <p>Drag and drop files here or click to browse</p>
                                    <input type="file" multiple accept=".pdf,.doc,.docx,.jpg,.jpeg,.png">
                                </div>
                                
                                <div class="template-download">
                                    <h4>Document Templates</h4>
                                    <p>Download agreement templates</p>
                                    <div class="template-links">
                                        <a href="#" class="btn btn-outline btn-sm">
                                            <i class="fas fa-download"></i>
                                            Service Agreement Template
                                        </a>
                                        <a href="#" class="btn btn-outline btn-sm">
                                            <i class="fas fa-download"></i>
                                            Terms & Conditions Template
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Form Actions -->
                        <div class="form-actions">
                            <button type="button" class="btn btn-outline" onclick="cancelEdit()">
                                <i class="fas fa-times"></i>
                                Cancel
                            </button>
                            <button type="button" class="btn btn-outline" onclick="viewAgreement('AGR-2024-001')">
                                <i class="fas fa-eye"></i>
                                View Details
                            </button>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save"></i>
                                Save Changes
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </main>
    </div>

    <script src="../js/agency.js"></script>
    <script>
        // Form submission handler
        document.getElementById('editAgreementForm').addEventListener('submit', function(e) {
            e.preventDefault();
            // Handle form submission
            showNotification('Agreement updated successfully!', 'success');
            setTimeout(() => {
                window.location.href = 'agreements.html';
            }, 2000);
        });

        function cancelEdit() {
            if (confirm('Are you sure you want to cancel? All changes will be lost.')) {
                window.location.href = 'agreements.html';
            }
        }

        function viewAgreement(agreementId) {
            window.location.href = `view-agreement.html?id=${agreementId}`;
        }

        function showNotification(message, type) {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.innerHTML = `
                <div class="notification-content">
                    <i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-circle'}"></i>
                    <span>${message}</span>
                </div>
                <button class="notification-close" onclick="this.parentElement.remove()">
                    <i class="fas fa-times"></i>
                </button>
            `;
            
            document.body.appendChild(notification);
            
            // Show notification
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);
            
            // Auto remove after 5 seconds
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    notification.remove();
                }, 300);
            }, 5000);
        }
    </script>
</body>
</html> 